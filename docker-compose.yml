version: '3.8'

services:
  redis:
    image: redis:6.0

  nginx:
    build:
      context: ./nginx
    volumes:
      - "./nginx/nginx.conf:/usr/local/openresty/nginx/conf/nginx.conf"
      - "./nginx/get_redis_data.lua:/usr/local/src/get_redis_data.lua"
      - "./nginx/set_redis_data.lua:/usr/local/src/set_redis_data.lua"
    depends_on:
      - redis
    ports:
      - "80:80"
